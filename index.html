<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>战锤40K：虚空黎明 v0.2</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
        <!-- 标题 -->
        <header class="game-header">
            <h1>⚔️ 战锤40K：虚空黎明</h1>
            <div class="subtitle">战争时代 · 荷鲁斯之乱 v0.2（抽卡版）</div>
        </header>

        <!-- 状态面板 -->
        <div class="status-panel">
            <div class="character-status">
                <div class="character-avatar">🦾</div>
                <div class="character-info">
                    <div class="character-name" id="charName">钛-7</div>
                    <div class="character-class" id="charClass">极限战士 Lv.1</div>
                    <div class="character-stats">
                        <span class="stat hp">❤️ <span id="hpValue">100</span>/<span id="hpMax">100</span></span>
                        <span class="stat chaos">🔮 <span id="chaosValue">0</span></span>
                        <span class="stat reputation">⭐ <span id="reputationValue">0</span></span>
                    </div>
                </div>
            </div>
            
            <!-- 资源面板（新系统） -->
            <div class="resource-panel">
                <!-- 资源由JS动态生成 -->
            </div>
        </div>

        <!-- 混沌进度条（新系统） -->
        <div class="chaos-container">
            <!-- 混沌进度条由JS动态生成 -->
        </div>

        <!-- 抽卡区域（新系统） -->
        <div class="card-section">
            <div class="section-title">🃏 抽卡区域（每回合抽取3张卡牌）</div>
            <div class="card-info">
                <span>💡 提示：点击卡牌查看详情，选择使用或弃牌</span>
                <span id="cardsRemaining">剩余卡牌：50</span>
            </div>
            <div id="cardArea">
                <!-- 手牌由JS动态生成 -->
            </div>
        </div>

        <!-- 对话区域 -->
        <div class="dialog-panel" id="dialogPanel">
            <div class="dialog-title">📜 战况报告</div>
            <div class="dialog-content" id="dialogContent">
                <div class="dialog-message system">
                    <span class="dialog-avatar">🌌</span>
                    <div class="dialog-text">
                        欢迎来到战锤40K：虚空黎明 v0.2！
                        <br><br>
                        新版本重磅更新：
                        <br>🃏 <strong>抽卡系统</strong> - 每回合抽取3张卡牌，选择使用或弃牌
                        <br>🔮 <strong>混沌系统</strong> - 混沌值影响你的行动和结局
                        <br>👥 <strong>追随者系统</strong> - 招募追随者获得战斗加成
                        <br><br>
                        游戏规则：
                        <br>• 每回合抽取3张卡牌，选择1-2张使用
                        <br>• 合理管理资源，避免混沌值过高
                        <br>• 招募追随者，增强战斗力
                        <br>• 揭露隐藏的内鬼，找到真相
                        <br><br>
                        准备好了吗？让我们开始吧！
                    </div>
                </div>
            </div>
        </div>

        <!-- 追随者面板（新系统） -->
        <div class="followers-section">
            <div class="section-title">👥 追随者面板</div>
            <div class="followers-panel">
                <!-- 追随者由JS动态生成 -->
            </div>
        </div>

        <!-- 行动面板（兼容旧系统） -->
        <div class="action-panel">
            <div class="action-title">🎮 行动选择（兼容旧系统）</div>
            <div class="action-categories">
                <button class="action-category" onclick="showCategory('system')">
                    <span class="category-icon">⚙️</span>
                    <span class="category-name">系统</span>
                </button>
                <button class="action-category" onclick="showCategory('investigation')">
                    <span class="category-icon">🔍</span>
                    <span class="category-name">调查</span>
                </button>
                <button class="action-category" onclick="showCategory('building')">
                    <span class="category-icon">🏗️</span>
                    <span class="category-name">建筑</span>
                </button>
            </div>
            
            <!-- 系统行动 -->
            <div class="action-list" id="system-actions" style="display: none;">
                <button class="action-btn" onclick="saveGame()">
                    💾 存档
                    <span class="action-cost">保存进度</span>
                </button>
                <button class="action-btn" onclick="loadGame()">
                    📂 读档
                    <span class="action-cost">加载进度</span>
                </button>
                <button class="action-btn" onclick="showFullStatus()">
                    📊 查看完整状态
                    <span class="action-cost">角色详情</span>
                </button>
                <button class="action-btn" onclick="endTurn()">
                    ⏭️ 回合结束
                    <span class="action-cost">新回合</span>
                </button>
                <button class="action-btn" onclick="resetGame()">
                    🔄 重置游戏
                    <span class="action-cost">清空存档</span>
                </button>
            </div>

            <!-- 调查行动 -->
            <div class="action-list" id="investigation-actions" style="display: none;">
                <button class="action-btn" onclick="performAction('investigation', 'talk_tam')">
                    💬 与塔姆对话
                    <span class="action-cost">调查内鬼</span>
                </button>
                <button class="action-btn" onclick="performAction('investigation', 'talk_carl')">
                    💬 与卡尔对话
                    <span class="action-cost">调查内鬼</span>
                </button>
                <button class="action-btn" onclick="performAction('investigation', 'talk_yuri')">
                    💬 与尤里对话
                    <span class="action-cost">调查内鬼</span>
                </button>
            </div>

            <!-- 建筑行动 -->
            <div class="action-list" id="building-actions" style="display: none;">
                <button class="action-btn" onclick="performAction('building', 'upgrade_base')">
                    🏗️ 升级巢穴
                    <span class="action-cost">消耗15物资</span>
                </button>
                <button class="action-btn" onclick="performAction('building', 'build_training')">
                    🎯 建造训练场
                    <span class="action-cost">消耗10物资</span>
                </button>
                <button class="action-btn" onclick="performAction('building', 'build_workshop')">
                    ⚙️ 建造工坊
                    <span class="action-cost">消耗10物资</span>
                </button>
            </div>
        </div>

        <!-- 进度面板 -->
        <div class="progress-panel">
            <div class="progress-item">
                <span class="progress-label">回合</span>
                <span class="progress-value" id="turnNumber">1</span>
            </div>
            <div class="progress-item">
                <span class="progress-label">卡牌</span>
                <span class="progress-value" id="handSize">0</span>
                <span class="progress-max">/3</span>
            </div>
        </div>
    </div>

    <!-- 加载JS模块 -->
    <script src="js/gameState.js"></script>
    <script src="js/resourceSystem.js"></script>
    <script src="js/chaosSystem.js"></script>
    <script src="js/cardSystem.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
