<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>战锤40K：虚空黎明</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
        <!-- 顶部状态栏 -->
        <div class="status-bar">
            <div class="status-left">
                <span class="turn-display">回合 <span id="turn-count">1</span>/14</span>
            </div>
            <div class="status-center">
                <span class="chaos-display">🔮 混沌: <span id="chaos-value">0</span>%</span>
            </div>
            <div class="status-right">
                <span class="faith-display">✨ 声望: <span id="faith-value">0</span></span>
            </div>
        </div>

        <!-- 主要区域 -->
        <div class="main-area">
            <!-- 左侧：玩家状态 -->
            <div class="player-panel">
                <h3>👤 角色</h3>
                <div class="player-stats">
                    <p>职业: <span id="char-class">极限战士</span></p>
                    <p>等级: <span id="char-level">1</span></p>
                    <p>生命: <span id="char-hp">100</span>/100</p>
                    <p>混沌值: <span id="char-chaos">0</span></p>
                </div>
                <div class="resource-brief">
                    <span>📦<span id="res-materials">50</span></span>
                    <span>🔧<span id="res-scrap">0</span></span>
                    <span>👥<span id="res-followers">0</span></span>
                </div>
            </div>

            <!-- 中间：消息区域 -->
            <div class="message-panel">
                <div class="message-header">📜 事件记录</div>
                <div class="message-list" id="message-list"></div>
            </div>

            <!-- 右侧：当前任务 -->
            <div class="task-panel">
                <h3>📋 当前任务</h3>
                <div id="current-task">
                    <p class="task-title">调查混沌信徒</p>
                    <p class="task-desc">找出营地中的混沌内鬼</p>
                    <div class="task-progress">
                        进度: <span id="task-progress">0</span>/3
                    </div>
                </div>
            </div>
        </div>

        <!-- 资源面板 -->
        <div class="resource-bar">
            <div class="resource-item" onclick="showFullStatus()">
                📊 状态
            </div>
            <div class="resource-item" onclick="showBuildingPanel()">
                🏗️ 建筑
            </div>
            <div class="resource-item" onclick="showAchievements()">
                🏆 成就
            </div>
            <div class="resource-item" onclick="startCombat('chaos')">
                ⚔️ 战斗
            </div>
            <div class="resource-item" onclick="endTurn()">
                ⏭️ 结束回合
            </div>
            <div class="resource-item" onclick="saveGame()">
                💾 存档
            </div>
            <div class="resource-item danger" onclick="resetGame()">
                🔄 重置
            </div>
        </div>

        <!-- 抽卡区域 -->
        <div class="card-area">
            <div class="card-header">🎴 行动卡牌</div>
            <div class="card-container" id="card-container"></div>
            <div class="card-hint">点击选择卡牌执行行动</div>
        </div>

        <!-- 进度条 -->
        <div class="progress-section">
            <div class="progress-bar">
                <div class="progress-fill" id="main-progress" style="width: 0%"></div>
            </div>
            <div class="progress-label">任务进度</div>
        </div>
    </div>

    <!-- 弹窗容器 -->
    <div id="popup-container"></div>

    <!-- 加载JS模块 -->
    <script src="js/presetDialogues.js"></script>
    <script src="js/aiSystem.js"></script>
    <script src="js/expandedCards.js"></script>
    <script src="js/achievementSystem.js"></script>
    <script src="js/combatSystem.js"></script>
    <script src="js/buildingSystem.js"></script>
    <script src="js/gameState.js"></script>
    <script src="js/main.js"></script>

    <script>
        // 初始化游戏
        window.onload = function() {
            initGame();
        };
    </script>
</body>
</html>
